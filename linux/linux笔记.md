## 随笔

.. 返回上一级目录  .还是在当前目录     

~可以代表  当前登录的用户目录  /home/ace

ctrl+u    清空本行  ctrl+l  清空所有

在命令后面加h，使其更加人性化   eg：ls  -lh  好比可以将目录下问价的大小用字节形式展示

ls -a  显示所有文件包括隐藏文件

history  查看所有历史操作

**空格可以用转义字符代替  \ + 空格**

echo 可以打印内容   $可以从变量中取值

echo  $PATH  可以打印环境的key值



|grep+想要查询的目标    用管道对搜索的目标进行过滤

查看进程 ps
ps    只会显示应用进程
ps -e  显示所有进程

ps a 显示现行终端机下的所有程序，包括其他用户的程序ps -ef  以全格式形式查看所有进程  

ps u 　 以用户为主的格式来显示程序状况。

ps x 　 显示所有程序，不以终端机来区分。

ps -aux  查看所有进程



kill -l  可以查看信息列表

9) SIGKILL
用来立即结束程序的运行. 本信号不能被阻塞、处理和忽略。如果管理员发现某个进程终止不了，可尝试发送这个信号。

一般选用 kill -SIGKILL（-9）+ 进程的编号来结束进程




pwd 查看当前所在目录

ls  显示当前目录下的文件
ls / 显示根目录下的文件
ls -i   可以显示文件的id（每个文件的id都是不同的）
ls desktop/  (ls后面可以跟上一个路径，显示该目录下的文件)
ls -l    也可以写成 ll          以列表形式显示（文件大小按字节算）   
ls -a 显示包括隐藏文件
ls -h 跟-l一样（唯一的区别就是文件大小按kb显示）
-a -h -l 可以组合使用，顺序不影响  -la -hl -ha   -h -l   -h -a

### 安装gedit

sudo apt-get update

sudo apt install gedit 

问题：**Not starting NFS kernel daemon: no support in current kernel**.

解决办法：

sudo gedit /etc/init.d/nfs-kernel-server

\# See if our running kernel supports the NFS kernel server

\#if [ -f /proc/kallsyms ] && ! grep -qE 'init_nf(sd|  )' /proc/kallsyms; then

\#  log_warning_msg "Not starting $DESC: no support in current kernel."

\#  exit 0

 \#fi

但gedit需要图形界面支持。。。

### 帮助指令

1.man获得帮助信息

基本语法：man + 命令/配置文件 （功能描述：获得帮助信息）

eg：man ls    

可以看到 ls 本身的作用，还可以看到 ls后可以紧跟其他的命令来联合使用

ls -a  查看当前目录下的所有文件（包括隐藏文件）

ls -l   将文件信息以列表的形式进行展示

也可以组合起来ls -la来使用    或 ls -la/root (指定目录)



2.help指令

基本语法：help + 命令（功能描述：获得shell内置命令的帮助信息，eg：cd）  

ls命令不属于shell的内置命令

### 查看ip

ifconfig

查看到以下信息：

eth0代表当前电脑的网卡，可能有多个

所有网卡都有一个mac地址就是硬件地址，相当于网卡编号



可以通过ping ip（-c 4/-i 5）地址判断两台主机间是否可以进行通信

后面的参数-c 4  即ping4次  -i 5  即5秒给一次反馈



若需要测试能否通外网，可以ping域名www.baidu.com或者ip

nslookup + 域名  可以查看其的ip（前提是你之前连接过，或者其ubantu自带，才可以）

### 通配符

ls *.txt   罗列以.txt为后缀的文件 *的意思是.txt前面的字符可以是任意的
ls  1*   罗列所有以1开头的问键
ls 1*.txt  以1开头，以.txt结尾，中间可以为任意字符

* 可以代表许多个任意字符     ？只能代表一个任意字符     
[1234]/[1-4]代表只能取1234中的任意一个字符(也可以表示为[a-z]，从a到z中取的任意一个字符)

cd change directory
cd  直接cd回家
cd - 来回切换上个访问目录，来回访问
cd .. 返回上一级目录
cd ~ 返回home目录下用户自己的目录
cd Desktop  去当前目录下的Desktop文件夹下（区分大小写）
Tab具有自动补全功能

ubuntu下，隐藏文件夹默认以 . 开头 

相对路径（根据当前目录下搜索想要的文件）  
绝对路径（以/开头，从根目录开始描述路径，无论当前位于什么目录下，都能进入想要的路径）

### 如何找回root密码

见韩顺平资料中有写

## 一、文件操作

#### 压缩和解压

##### 1.gzip/gunzip指令    

（常用于文件）  

案例1：gzip压缩，将/home下的hello.txt文件进行压缩

gzip /home/hello.txt

案例2：gunzip解压缩，将/home下的文件hello.txt.gz文件进行解压缩

gunzip /home/hello.txt.gz



##### 2.zip/unzip指令     

（常用于文件和文件夹）

zip常用选项：**-r  递归压缩，即压缩目录**

unzip常用选项：**-d<目录>  指定解压后文件的存放目录**

案例1：将/home下的所有文件/文件夹进行压缩乘myhome.zip

zip -r myhome.zip /home/  (将home目录及其包含的文件和子文件夹都压缩)

案例2：将myhome.zip解压到/opt/tmp目录下

unzip -d /opt/tmp /home/myhome.zip



##### 3.tar指令

![image-20210824161306989](F:\Typora\笔记\Go语言笔记图片\image-20210824161306989.png)





#### rm删除操作

rm 命令可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉

命令	作用
-f	强制删除文件或目录
-i	删除已有文件或目录之前先询问用户
-r	递归处理， 将指定目录下的所有文件与子目录一并处理
/	在Linux中表示根目录

/*	根目录下的所有文件

删除普通文件：rm + 文件名

删除目录：rm -r  + 目录

使用细节：强制删除不提示的方法：带上-f参数即可



#### **查找和检索**

##### 1.find指令

按文件属性查找：

​    1).  文件名：find+查找的目录+ -name + “文件的名字”  (如果不知道文件的全名，使用通配符)     

   eg：查hello.c，而我们只知道hello，此时可以用*代替一个或多个字符（hello *），？只代替某一个字符

​    /home/cat -name "hell*"

​    2).  文件大小：find+查找目录+ -size +10k   （找目录下文件大小大于10kb的文件，小于10k用-10kb，等于10kb直接写10kb，写M即代表Mb

​    find ~ -size -10k

 如何搜索~下大于10Mb，小于100Mb的文件：find -size +10M -size -100M

​    3).文件类型：find + 查找目录 + -type + d/f/b

目录d  普通文件f  块设备b  字符设备c  套接字s  管道p  链接符号l



##### 2.grep指令和管道符号|

（grep过滤查找，管道符 |，表示将前一个命令的处理结果输出传递给后面的命令处理）

按文件内容进行查找：

-n  显示匹配行及行号   -i忽略字母大小写   -r  递归查找和递归删除都需要加



 应用实例：请在ha.txt文件中，查找"yes"所在的行，并显示行号

1）cat /home/ha.txt | grep -n "hello" 

2）grep -n "yes" /home/ha.txt

| grep -v  "a"     反向查找，即找名字中不包含“a"的（更多参数可man grep）  

##### 3.locate指令和which指令查找文件路径

![image-20210824153052322](F:\Typora\笔记\Go语言笔记图片\image-20210824153052322.png)





#### 文件目录操作

##### 1.mkdir指令   

（用于创建目录）

-p ：创建多级目录

mkdir /home/bb  创建了一个目录

mkdir  -p  /home/bb/c  创建多级目录



##### 2.rmdir指令    

（删除空目录）

eg：rmdir  bb   删除空目录bb

使用细节：删除的必须得是空目录，否则得使用rm -rf+目录    进行强制删除



##### 3.touch指令   

（创建一个空文件）

touch test.txt（只能创建文件，不能创建目录，即文件夹）
touch .text2.txt (创建隐藏文件，只需在文件名称前加个  .  即可)



##### 4.cp指令    

（拷贝文件到指定目录）

-r：递归复制整个文件夹

**拷贝时，原位置和新位置，用绝对路径或相对路径都可以**

案例1：将/home/a.txt 拷贝到 /home/bb目录下

cp  a.txt  /home/bbb   (假设我们现在已经处于home目录下了)

案例2：递归复制整个文件夹，将/home/bb 整个目录拷贝到   /opt

cp -r /home/bb /opt

**注意：若重复执行以上操作，每次会提示，是否覆盖原文件中某某文件，每个文件都要进行一次询问比较麻烦，所以可以通过\cp进行强制覆盖**

\cp -r /home/bb /opt



##### 5.rm指令   

见上方



##### 6.mv指令      

（移动文件与目录或重命名）

mv 旧文件名  新文件名 （重命名）

eg1：当前目录下有aa这个文件，我将aa重命名为bb

mv  aa  bb

eg2：现在所处目录是home目录，其下有另外两个目录lx，lx1，lx中有文件a

现将lx中的文件a移动到lx1，并重命名为aa

mv lx/a lx1/aa       (这写的路径是相对路径，也可以换成绝对路径)

mv  /home/lx/a  /home/lx1/aa        绝对路径写法



##### 7.cat指令   

（**查看文件内容，不能修改**）

cat + 想要查看的文件

-n    显示行号

案例1：查看/etc/profile文件内容，并显示行号

cat -n  /etc/profile

**使用细节：cat只能浏览文件，而不能修改文件，为了浏览方便，一般会带上**

**管道命令|more**



eg：cat -n  /etc/profile|more   会将cat -n  /etc/profile 得到的结果通过管道|交给more进行处理   （enter看下一行  空格键翻页    【进行交互】）



##### 8.more指令 （见百度）

![image-20210824104507005](F:\Typora\笔记\Go语言笔记图片\image-20210824104507005.png)



##### 9.less指令

![image-20210824105009439](F:\Typora\笔记\Go语言笔记图片\image-20210824105009439.png)



##### 10.echo指令    

（输出内容到控制台）

echo + “内容”   （在命令行中显示出来）

echo  $PATH   

(输出环境变量, $是用来取内容的)

echo  内容>126.txt  （将内容显示进126.txt中，但会覆盖掉原有内容）
                  >>           (在原有内容上进行追加)

可以应用在任何命令中，只要这个命令是有结果的 ls >126.txt ...
（这里后面跟的文件，可以存在也可以不存在，若不存在就新创建一个）



##### 11.head指令   

（用于显示文件开头部分内容，默认情况下显示文件前10行）

head + 文件   （查看文件前10行内容）

head -n 5 + 文件 （查看文件前5行内容）



##### 12.tail指令       

（查看文件末尾内容）

tail + 文件   （查看文件末尾10行内容）

tail -n 5 + 文件 （查看文件末尾5行内容）

tail -f + 文件  （实时追踪该文档的所有更新）

在一个终端运行该指令，另外再开一个终端，当改变该文件时，那头的终端就会有所显示



##### 13.>指令和>>指令

:   >输出重定向和>>追加

1) ls -l > a.txt    （将列表的内容写入文件a.txt中，覆盖写）

2) ls -al >> aa.txt  (将列表的内容写入文件aa.txt的末尾)

3) cat 文件1 > 文件2  （将文件1的内容覆盖到文件2）

4）echo "内容">>文件  （将内容追加到文件末尾）



##### 14.ln指令    

（软链接也被成为符号链接，类似于win里的快捷方式）

ln -s + 原文件或目录 + 软链接名 （给原文件创建一个软链接）

案例1：在/home目录下创建一个软链接myroot，连接到/root目录

ln -s /root /home/myroot

案例2：删除软链接myroot

rm /home/myroot

细节说明：当我们使用pwd指令查看目录时，仍然看到的是软链接所在的目录



##### 15.history指令    

（查看已经执行过的历史命令，也可以执行历史命令）

1）显示所有历史命令：history

2）显示最近使用过的10个指令：history 10

3）执行历史编号为5的指令： ！5



##### 16.date指令    

1）date   显示当前时间

2）date+%Y    显示当前年份

3）date+%m    显示当前月份

4）date+%d    显示当前是哪一天

5）date "+%Y-%m-%d %H:%M:%S"   显示年月日时分秒

6）date -s "2021-08-24   15:03:20"     设置系统当前时间



##### 17.cal指令    

案例1：cal  显示当前日历

案例2：cal  2021  显示2021年的所有日历



##### 18.其他杂文

flie+文件名      可以查看具体的文件详情



rm text.txt  (移除text.txt文件)
rm -d bb (移除文件夹时需要加上-d/-r,表示directory)
mv text.txt aa(将text.txt移动到aa文件夹中，不光可以移动文件，也可以是文件夹，这里的aa既可以用相对路径表示，也可以用绝对路径表示)  剪切功能



which   查找命令所在位置
每个命令（ls/touch mkdir mv cd）执行时，都会去执行一个程序，这个程序文件里保存了当我们执行
某个命令的时候需要做的哪些事i，来完成这个命令，输出结果
但 which cd 为空，因为cd是内置命令
/bin     binary,二进制文件，普通命令
/sbin    system binary,系统二进制文件，需要有系统权
/usr/bin   用户安装的应用程序
/use/sbin  超管安装的应用程序


文件搜索（ls通配符：仅限于当前目录下的模糊查找）
find 搜索范围 搜索条件(因为在较大目录下使用较慢，所以一般我们都会限制在特定的目录下进行搜索)
示例一：find /home -name 123 //精确搜索 
示例二：find /home -name 123* //模糊搜索 其他用法：*123*  123？？ 
示例三：find /home -iname abc //选项-i 不区分大小写 
示例四：find / -size +204800 //根据文件大小搜索
1数据块=512字节Byte=0.5KB -204800 204800 // 100MB 100*1024KB 100*1024*2*数据块 
示例五：find /home -user siki 
示例六：find /home -mmin -5 文件内容上次被修改时间在5分钟以内 
mmin上次文件内容被修改时间 amin 上次文件被访问时间 cmin 上次文件属性（文件的权限）被修改时间 -5 5分钟以内 +5超过5分钟 
示例七：find /home -type f 
-type文件类型    f文件  d目录(文件夹）l软链接文件(Link） ----------条件链接 -a and同时满足 -o or或者，满足其中一个即可 
示例八：find /home -name 123 -a -size +5 示例九：ls -i find /home -inum 3434

locate  搜索比较快，因为它搜索的是自己的索引库，而find是全局进行搜索（但查询速度同样跟计算机的性能有关）
        就好比查看一个新华字典，find是从头开始一页一页翻进行查找，而locate直接通过索引定位到想要查询的页，所以就快很多
缺点：更新的不及时，新创建的文件，在第一时间不会更新到索引库中
这里可以通过updatedb强制更新索引库，但在执行updatedb时，因为权限不够会产生报错，此时updatedb之前加上sudo，执行管理员权益，但需要密码验证
locate 125.txt(只要是包含125.txt的都会被搜索出来，也包括目录中出现的)
locate --help  查找帮助文档


查询文件里的内容  cat/more  （当内容过多时，more会对内容进行分页）
car/more +  文件名
car -b 文件名  （显示行号，但不包括空格）-n（不去除空行）

、grep(抓取)+某个内容+文件
grep user 126.txt        显示126.txt中有uer的那行内容
grep -n user  126.txt   会显示内容和行号（空行会被计算在内）
grep -v user   126.txt   反向搜索，显示不包括user内容的其余行内容（包括空行）
（-v可以应用于对特殊字符进行筛选进行去注释）
-i 在抓取的时候忽略大小写
^'#'  表示以#开头
s$  表示以s结尾的







## 二、用户管理  

遇到有些需要超管命令时，可以用sudo（可以减少来回切换root帐号）

#### 添加用户

1.sudo adduser user (创建用户名为user的用户,该方法是通过一个脚本来创建用户，其定义用户名时不能包含大写字母)

2.sudo useradd

​                       -s   /bin/bash  (使用某某解析器) 

​                         -g   Robin    （指定组，组必须是之前存在的，否则会报错）

​                        -d  /home/Robin  （指定用户目录）

​                        -m  Robin （若指定用户目录不存在，就创建一个）

创建一个Robin组：sudo groupadd  Robin



#### 修改用户密码

修改其他普通用户的密码   ：sudo passwd  user

修改当前普通用户的密码   ：passwd 

修改root用户的密码   ：sudo passwd（sudo passwd  root）



直接输入id  可以查看当前用户组id（gid）

也可以 id +用户名  （查看某个用户名的组id）

使用 cat /etc/passwd  在显示内容的最后一行可以观察到是否成功创建新用户



#### 查询用户/组

id + 用户名   （显示信息：uid   gid   所处组）



可以用vi/cat查看下面文件的信息（口令即用户的登陆密码）

**/etc/passwd**   用户的配置文件，记录用户的各种信息

每行的含义：用户名：口令：用户标识号：组标识号：注释型描述：主目录：登录Shell

**/etc/shadow**     口令的配置文件（若没设置密码，则加密口令用! !代替）

每行的含义：登录名：加密口令：最后一次修改的时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志

**/etc/group**       组的配置文件，记录linux包含组的信息

每行的含义：组名：口令：组标识号：组内用户列表

#### 切换用户

su root  切换到root用户（su + 用户名）
exit   退出



#### 删除用户

**vi etc/passwd   可以查看当前存在的用户**

1.sudo deluser + 用户名  （删除后，但该用户的家目录还在）

2.userdel -r + 用户名

若不在root用户下执行该命令  需要在其前面添加sudo
userdel user1      删除user1用户
userdel -r  user1  删除包括家目录在内
userdel -f  user1  强制删除，即使该用户在登陆状态，也会被删除（但仍能执行一些简单的命令）

#### 用户组

介绍：类似于角色，系统可以对有共性/权限的多个用户进行统一管理

**以下操作一般都需要需要root权限**

新增组： groupadd + 组名

删除组： groupdel  + 组名

修改用户所处组：usermod -g + 新的组 +用户名   

修改用户组的名字：groupmod -n 新组名 旧组名



## 三、所有者/所在组概念

前言：Linux组基本介绍

在linux中的每个用户必须属于一个组，不能独立于组外。

在linux中每个文件有所有者、所在组、其它组的概念



#### 文件/目录   所有者 所在组

一般为文件的创建者，谁创建了该文件，谁自然的成为该文件的所有者

- 查看文件的所有者和所在组

  指令：ls -ahl

- 修改文件所有者

  指令：chown + 改之后的用户名 + 文件名

  应用案例：使用root创建一个文件apple.txt，然后将其所有者更改为tom

  chown tom apple.txt   (这里仅修改了所有者，所属组仍是root所在的组)

- 修改文件所在组

  指令：chgrp + 更改之后的组名 + 文件名

  应用案例：使用root用户创建文件a.txt，看看其属于哪个组，然后将这个文件所在组，修改到fruit组

  chgrp fruit orange.txt

#### 组的创建

- 基本指令

  groupadd 组名

- 应用实例

  创建一个组monster

  groupadd monster

  创建一个用户fox，并放入到monster组中

  useradd -g monster fox



#### 其他组

除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组



#### 改变用户所在组

在添加用户时，可以指定将该用户添加到哪个组中，同样的用root的管理权限可以改变某个用户的所在组

- 改变用户所在组

1.usermod -g 组名 用户名   （改变用户的所在组）

2.usermod -d 目录名 用户名 （改变该用户登陆的初始目录，**特别说明**：用户需要有进入新目录的权限）

- 应用实例

将zwj这个用户从原来的组，修改到wudang组

usermod -g wudang zwj





## 四、权限

#### 1.权限介绍

**第0位：-  表示普通文件**

![image-20210824182218715](F:\Typora\笔记\Go语言笔记图片\image-20210824182218715.png)





![image-20210824182559292](F:\Typora\笔记\Go语言笔记图片\image-20210824182559292.png)





![image-20210824182953625](F:\Typora\笔记\Go语言笔记图片\image-20210824182953625.png)



#### 2.修改权限

![image-20210824183606975](F:\Typora\笔记\Go语言笔记图片\image-20210824183606975.png)



![image-20210824183729105](F:\Typora\笔记\Go语言笔记图片\image-20210824183729105.png)



#### 3.修改所有者/组

注意：-R/r   递归修改目录下的所有子文件夹

#### ![image-20210824183903618](F:\Typora\笔记\Go语言笔记图片\image-20210824183903618.png)

![image-20210824184023563](F:\Typora\笔记\Go语言笔记图片\image-20210824184023563.png)

#### 4.实践案例

1）**理论上是可以的，但前提是，jack创建的文件是处在他自己能访问的目录下的，即使我们赋予了xh该文件的读写权限，如果xh没有该目录的读权限或以上，实际上连”门“都进不去，就更别说读写操作了**

![image-20210824185128753](F:\Typora\笔记\Go语言笔记图片\image-20210824185128753.png)



2）要点记录：对于更换当前用户的组，若该用户在改组之前就已经登录了，那么系统虽然数据更换了，但在权限方面仍会参考其之前的组别，这时可以重新登录

**尤其是对文件夹rwx的细节讨论和测试很重要**

![image-20210824210658604](F:\Typora\笔记\Go语言笔记图片\image-20210824210658604.png)



## 五、定时任务调度

执行脚本/命令都是要有对应的权限才行

#### 1.crond任务调度

重复执行

![image-20210825104126419](F:\Typora\笔记\Go语言笔记图片\image-20210825104126419.png)



![image-20210825104034361](F:\Typora\笔记\Go语言笔记图片\image-20210825104034361.png)



![image-20210825104722206](F:\Typora\笔记\Go语言笔记图片\image-20210825104722206.png)



![image-20210825105314200](F:\Typora\笔记\Go语言笔记图片\image-20210825105314200.png)



![image-20210825105242296](F:\Typora\笔记\Go语言笔记图片\image-20210825105242296.png)



![image-20210825111128409](F:\Typora\笔记\Go语言笔记图片\image-20210825111128409.png)





#### 2.at定时任务

作业队列中的作业**只执行一次**，每过**60s**查看一次作业队列，若和当前时间匹配，那就执行

ps -ef   显示当前所有正在运行的进程

ps -ef | grep atd  过滤出atd进程，观察atd进程是否启动

atq       显示当前作业队列的作业

![image-20210825142731868](F:\Typora\笔记\Go语言笔记图片\image-20210825142731868.png)



![image-20210825143755986](F:\Typora\笔记\Go语言笔记图片\image-20210825143755986.png)



![image-20210825142940338](F:\Typora\笔记\Go语言笔记图片\image-20210825142940338.png)



![image-20210825143313425](F:\Typora\笔记\Go语言笔记图片\image-20210825143313425.png)



![image-20210825144448017](F:\Typora\笔记\Go语言笔记图片\image-20210825144448017.png)





## 六、磁盘分区和挂载

#### 1.前瞻介绍



![image-20210825155932461](F:\Typora\笔记\Go语言笔记图片\image-20210825155932461.png)



​                                                                         示意图

![image-20210825155751437](F:\Typora\笔记\Go语言笔记图片\image-20210825155751437.png)





![image-20210825160528744](F:\Typora\笔记\Go语言笔记图片\image-20210825160528744.png)



![image-20210825162255424](F:\Typora\笔记\Go语言笔记图片\image-20210825162255424.png)



#### 2.挂载的经典案例

流程：添加一个磁盘->对磁盘进行分区->格式化（给这个分区分配唯一的40位的UUID）->挂载（即将磁盘挂载到一个目录下）

注意：通过命令行进行挂载，在重启后会失效，所有可以通过。。。进行永久挂载

具体见韩顺平视频59



#### 3.磁盘情况查询

![image-20210825174342969](F:\Typora\笔记\Go语言笔记图片\image-20210825174342969.png)





![image-20210825174801319](F:\Typora\笔记\Go语言笔记图片\image-20210825174801319.png)





#### 4.工作实用指令

1.列出opt文件夹下的所有文件（通过管道  "^-"表示只要开头是 - 的    wc -l 统计数据）

![image-20210825175206594](F:\Typora\笔记\Go语言笔记图片\image-20210825175206594.png)



![image-20210825175501972](F:\Typora\笔记\Go语言笔记图片\image-20210825175501972.png)



## 七、网络配置

#### 1.前瞻介绍

- 查看window网络设置：ipconfig
- 查看Linux网络设置：ifconfig



![image-20210825205355355](F:\Typora\笔记\Go语言笔记图片\image-20210825205355355.png)

主机通过vmnet8分配给linux虚拟机ip网段，主机可以ping通linux，反过来linux需要在估计关闭防火墙的情况下可以ping通192.168.2.1，但可以直接ping通无线网卡，再有无线网卡连接公网





这两个网卡是虚拟的，通过这两个网卡，虚拟机可以通过宿主机的网线上网。
只要VMware 还安装在操作系统中，VMware Network Adapter VMnet1和VMware Network Adapter VMnet8就变成系统的重要组件，
随意删除不仅导致VMware出现错误，还可能导致整个系统不断报错。

当从windows系统连接到通过NAT方式上网的VMware guest系统时，需要用到VMnet8。





#### 2.获取ip的两种方式

![image-20210826104931480](F:\Typora\笔记\Go语言笔记图片\image-20210826104931480.png)



![image-20210826105034727](F:\Typora\笔记\Go语言笔记图片\image-20210826105034727.png)



#### 3.设置主机名和hosts映射

![image-20210826105858709](F:\Typora\笔记\Go语言笔记图片\image-20210826105858709.png)



![image-20210826110449466](F:\Typora\笔记\Go语言笔记图片\image-20210826110449466.png)



![image-20210826112623013](F:\Typora\笔记\Go语言笔记图片\image-20210826112623013.png)



- 像某些黑客就会篡改你的host文件，将某某网站的ip进行调换（将你要访问的网站，换成他自己做的钓鱼网站），这种被称为域名劫持





## 八、进程管理(重点)

#### 1.前瞻介绍

![image-20210826113835843](F:\Typora\笔记\Go语言笔记图片\image-20210826113835843.png)



#### 2.查看进程 ps命令

![image-20210826115508774](F:\Typora\笔记\Go语言笔记图片\image-20210826115508774.png)



![image-20210826115527941](F:\Typora\笔记\Go语言笔记图片\image-20210826115527941.png)





![image-20210826144441143](F:\Typora\笔记\Go语言笔记图片\image-20210826144441143.png)





![image-20210826115600626](F:\Typora\笔记\Go语言笔记图片\image-20210826115600626.png)

![image-20210826115621276](F:\Typora\笔记\Go语言笔记图片\image-20210826115621276.png)



![image-20210826115639176](F:\Typora\笔记\Go语言笔记图片\image-20210826115639176.png)

![image-20210826115654168](F:\Typora\笔记\Go语言笔记图片\image-20210826115654168.png)



#### 3.终止进程kill和killall

![image-20210826150526268](F:\Typora\笔记\Go语言笔记图片\image-20210826150526268.png)



#### 4.查看进程树pstree

![image-20210826150923409](F:\Typora\笔记\Go语言笔记图片\image-20210826150923409.png)



#### 5.动态监控进程

默认3s刷新一次

![image-20210826171309777](F:\Typora\笔记\Go语言笔记图片\image-20210826171309777.png)



![image-20210826171837470](F:\Typora\笔记\Go语言笔记图片\image-20210826171837470.png)



#### 6.监控网络状态

![image-20210826173451340](F:\Typora\笔记\Go语言笔记图片\image-20210826173451340.png)



![image-20210826173106204](F:\Typora\笔记\Go语言笔记图片\image-20210826173106204.png)



![image-20210826173123226](F:\Typora\笔记\Go语言笔记图片\image-20210826173123226.png)



当tom登出后，链接不会立马断开，因为是tcp协议，所以会有个超时等待的情况（等待的时间根据系统来定）



## 九、服务管理(本质还是进程)



#### 1.基本的服务管理



![image-20210826152355394](F:\Typora\笔记\Go语言笔记图片\image-20210826152355394.png)





带 * ，说明是自启动的   我们将光标移动到对应*位置，再按下空格键即可取消其的自启动

![image-20210826152757808](F:\Typora\笔记\Go语言笔记图片\image-20210826152757808.png)



#### 2.Linux/服务的运行级别

![image-20210826153042437](F:\Typora\笔记\Go语言笔记图片\image-20210826153042437.png)



0.关机   

1.单用户（找回丢失密码）

2.多用户状态没有网络服务

3.多用户状态有网络服务

4.系统未使用保留给用户

5.图形界面

6.系统重启

**常用运行级别是3和5，也可以指定默认运行级别**

命令：init [0123456] 应用案例：通过init来切换不同的运行级别



查看现在所处的运行级别：systemctl get-default

centos7及之后  graphical.target对应级别5  multi-user.target对应级别3

systemctl set-default+上面的两种   （设置默认的运行级别）



#### 3.chkconfig指令

![image-20210826160820768](F:\Typora\笔记\Go语言笔记图片\image-20210826160820768.png)



#### 4.systemctl指令

telnet + ip + 端口    进行测试，检测某端口是否打开，且是否可以通过防火墙

![image-20210826165154434](F:\Typora\笔记\Go语言笔记图片\image-20210826165154434.png)



![image-20210826165930699](F:\Typora\笔记\Go语言笔记图片\image-20210826165930699.png)



#### 5.防火墙命令

![image-20210826170121386](F:\Typora\笔记\Go语言笔记图片\image-20210826170121386.png)





## 十、rpm和yum

#### 1.rpm

![image-20210826173746884](F:\Typora\笔记\Go语言笔记图片\image-20210826173746884.png)

![image-20210826173729787](F:\Typora\笔记\Go语言笔记图片\image-20210826173729787.png)



![image-20210826173906624](F:\Typora\笔记\Go语言笔记图片\image-20210826173906624.png)





![image-20210826174049993](F:\Typora\笔记\Go语言笔记图片\image-20210826174049993.png)



![image-20210826174248882](F:\Typora\笔记\Go语言笔记图片\image-20210826174248882.png)





#### 2.yum

![image-20210826174444629](F:\Typora\笔记\Go语言笔记图片\image-20210826174444629.png)





## 十一、日志管理

#### 1.前瞻介绍

![image-20210828160151963](F:\Typora\笔记\Go语言笔记图片\image-20210828160151963.png)



#### 2.系统常用日志

![image-20210828160556601](F:\Typora\笔记\Go语言笔记图片\image-20210828160556601.png)



![image-20210828160637060](F:\Typora\笔记\Go语言笔记图片\image-20210828160637060.png)



#### 3.日志服务管理

系统通过控制rsyslogd后台程序来控制对日志的服务，/etc/rsyslog.conf记录有哪些要服务的日志

![image-20210828163141820](F:\Typora\笔记\Go语言笔记图片\image-20210828163141820.png)



![image-20210828164313989](F:\Typora\笔记\Go语言笔记图片\image-20210828164313989.png)



![image-20210828164701056](F:\Typora\笔记\Go语言笔记图片\image-20210828164701056.png)



![image-20210828164716185](F:\Typora\笔记\Go语言笔记图片\image-20210828164716185.png)



![image-20210828165318264](F:\Typora\笔记\Go语言笔记图片\image-20210828165318264.png)



![image-20210828165449716](F:\Typora\笔记\Go语言笔记图片\image-20210828165449716.png)



#### 4.日志管理服务实例

![image-20210828165602750](F:\Typora\笔记\Go语言笔记图片\image-20210828165602750.png)



#### 5.日志轮替

![image-20210828212138844](F:\Typora\笔记\Go语言笔记图片\image-20210828212138844.png)



![image-20210828180618541](F:\Typora\笔记\Go语言笔记图片\image-20210828180618541.png)



![image-20210828185525923](F:\Typora\笔记\Go语言笔记图片\image-20210828185525923.png)

![image-20210828212249120](F:\Typora\笔记\Go语言笔记图片\image-20210828212249120.png)



![image-20210828212345708](F:\Typora\笔记\Go语言笔记图片\image-20210828212345708.png)



![image-20210828212647096](F:\Typora\笔记\Go语言笔记图片\image-20210828212647096.png)

![image-20210828212723419](F:\Typora\笔记\Go语言笔记图片\image-20210828212723419.png)



#### 6.日志轮替机制

![image-20210828212856628](F:\Typora\笔记\Go语言笔记图片\image-20210828212856628.png)

![image-20210828212931264](F:\Typora\笔记\Go语言笔记图片\image-20210828212931264.png)



#### 7.内存日志

在Linux中有部分日志是写入内存中的，还没有写入文件中，因为这些日志是实时变化的，和当前系统的运行情况有关  eg：内核的日志

![image-20210828213014569](F:\Typora\笔记\Go语言笔记图片\image-20210828213014569.png)



## 其他

### linux运行级别

0.关机   

1.单用户（找回丢失密码）

2.多用户状态没有网络服务

3.多用户状态有网络服务

4.系统未使用保留给用户

5.图形界面

6.系统重启

**常用运行级别是3和5，也可以指定默认运行级别**

命令：init [0123456] 应用案例：通过init来切换不同的运行级别



查看现在所处的运行级别：systemctl get-default

centos7及之后  graphical.target对应级别5  multi-user.target对应级别3

systemctl set-default+上面的两种   （设置默认的运行级别）

### 关于配置文件

/etc/passwd 配置当前系统有哪些用户，以及用户的密码（密码在影子文件里面，passwd的影子文 件） 
1，用户名 
2，密码标志 
3，UID 
4，GID 
5，用户全名 
6，家目录 
7，使用的shell 
什么是shell?（我们的命令 cd ls ...） shell是用来解析命令的，它接收用户命令，然后调用相应的程序执行。 
shell相当于一个翻译，翻译我们的命令，让机器听懂。
第一种shell：/bin/bash 翻译一号 
第二种shell：/usr/sbin/nologin 翻译二号 
第三种shell：/bin/sh 翻译三号（我们创建用户的时候的shell）
 缺点不支持上下方向键，如何更换shell？

root下
password+用户  可以修改密码

cat /etc/shells  查看当前用户下有哪些shell，可以去使用的
chsh  切换shell（然后选择想要切换的shell）

cat /etc/group 
配置当前系统有哪些用户组    每行分为四个数据
1，组名 
2，组密码标志 
3，GID 
4，组中附加用户


cat /etc/shadow    用户的影子文件
cat /etc/gshadow   用户组的影子文件


内置命令一般是一些常用的命令  执行的更快
eg:which cd   没有任何返回,说明cd是内置命令   
                       如果返回了一个目录，则说明该命令是外部命令

1，为什么没有命令文件 因为cd这个命令是放在shell（bash里面的） 
2，什么是内置命令（cd dirs ls） 内置命令在系统启动时就调入内存，是常驻内存的，所以执行效率高。 
     而外部命令是系统的软件功能，用户需要时才从硬盘中读入内存。 
大部分内置命令都是内置在shell中的，也有一些内置命令有自己单独的文件。 
系统启动，会把shell中的内置命令，其他其他不在shell中的内置命令加载到内存中。

whoami  当前登录用户
who   最初登陆时，登录的用户

usermod -g siki user1  将user1的初始组改为siki
usermod -G testu，user1 user1  将user1的附加组改为user1和testu，当然初始组仍然在附加组里，不受影响
（在原有的基础上修改，而不是添加）
usermod -s /bin/sh  user1  将user1的shell改为/bin/sh(第二种shell改法)

输入ll  
可以通过每个文件行前9个字符得出，用户，用户组，其他用户对该文件的操作权限
用户权限（文件对用户来说的权限，用户操作文件或者文件夹的权限） 
u g o 



- --- --- ---
a表示文件类型 -二进制文件（包括不限于文本文件） d目录（文件夹） l（软连接文件） 
后面表示这个文件的权限 u（user）所有者 g（group）所属组 o（other）
其他用户 r读写 w写 x执行

可执行文件的颜色跟普通文件不同





### 权限修改 

只有文件所有者和超管可以修改文件的权限 
chmod change the permissions mode of file 
格式一
chmod [ugoa][+-=][rwx] 文件或者目录   //+r  -r =r   加减权限  使权限等于r
chmod u+w,g+x xx.txt 
格式二
用数字表示权限 r=4 w=2 x=1 
r--rw-rwx 467
651 rw-r-x--x 
chmod 651 xxfile chmod -R 777 xxfile  修改文件包括文件的所有子文件


chmod 修改文件权限 
chown(change owner)修改拥有者（所属者） 
chgrp(change group)修改拥有组（所属组） 
文件是所属者和所属组发生改变，用户对文件的权限也发生改变
chown newuser 文件/文件夹 修改文件或者文件夹的拥有者 
chgrp newgroupname 文件/文件夹 修改文件或者文件夹的所属组 
-R 递归修改所有子文件



### 管道

把一个命令的输出 通过管道连接 作为另一个命令的输入 
输出就是命令的结果，输入一般是一个命令的参数（cat xxx.txt 这个txt就是cat的输入） 
管道连接通过 | 建立。 
grep -v ^'#' /etc/services | more 
ls -lh | grep 125.txt   (从ls -lh 的输出中抓取125.txt的那行)



### 软链接（相当于快捷方式）

ln 即link
ln  文件/文件民  软连接名  （生成的软链接会放在当前目录下）

